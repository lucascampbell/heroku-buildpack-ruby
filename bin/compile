#!/usr/bin/env ruby
require 'open-uri'

RESOURCE_URL="https://s3.amazonaws.com/rhoconnect-resource/rhoconnect-resource.tar"
RESOURCE_TAR_FILE="rhoconnect-resource.tar"

`echo "-----> Installing Rhoconnect-resource..."`
File.open(RESOURCE_TAR_FILE, 'wb') do |fo|
  fo.print open(RESOURCE_URL).read
end

# Error checking
if(File.exists? $RESOURCE_TAR_FILE)
  `echo "-----> Error downloading rhoconnect-resource. Please try again..."`
  exit 1
end

tar xmzf $RESOURCE_TAR_FILE
rm $RESOURCE_TAR_FILE

`echo "-----> Done"`